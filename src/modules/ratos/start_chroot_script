#!/usr/bin/env bash
# Installs RatOS
# Written by Mikkel Schmidt aka miklschmidt <mikkel.schmidt@gmail.com>
# Follows the mainsailos module Written by Stephan Wendel aka KwadFan <me@stephanwe.de>
# GPL V3
########


# Source error handling, leave this in place
set -Ee

# Set DEBIAN_FRONTEND to noninteractive
if [[ "${DEBIAN_FRONTEND}" != "noninteractive" ]]; then
    export DEBIAN_FRONTEND=noninteractive
fi

# shellcheck source=/dev/null
source /common.sh
install_cleanup_trap

echo_green "Installing RatOS"

pushd "/home/${BASE_USER}/printer_data/config"

gitclone RATOS_CONFIG RatOS
gitclone RATOS_THEME .theme
pushd "/home/${BASE_USER}"
gitclone RATOS_CONFIGURATOR ratos-configurator
gitclone RATOS_KINEMATICS ratos-kinematics
popd
popd

unpack /filesystem/root /

# Set default git merge strategy
sudo -u "${BASE_USER}" git config --global pull.ff only

# Create release file
if [ -f "/etc/ratos_version" ]; then
    sudo rm -f /etc/ratos_version
fi
function get_parent {
    grep VERSION_CODENAME /etc/os-release | cut -d '=' -f2
}

echo "${DIST_NAME} v${DIST_VERSION} ($(get_parent))" > "/etc/${DIST_NAME,,}-release"


## Step 2: Fake release file
### NOTE: Turns out that the 'distro' python package,
###       which is used by moonraker, uses the first file after sorting.
###       Therefore we need a hacky solution, because armbian relies, on upgrades
###       on the original armbian-release file.
###       To get around that, we simple symlink mainsailos-release to
###       aaaa-release, which is directly read by moonraker.
### Substep 1: Do for armbian releases
if [[ -f "/etc/armbian-release" ]]; then
    echo_green "Apply release file workaround (armbian based image) ..."
    ln -s /etc/"${DIST_NAME,,}"-release /etc/aaaa-release
fi
### END Substep 1
### Substep 2: Apply same for OrangePI based Images
if [[ -f "/etc/orangepi-release" ]]; then
    echo_green "Apply release file workaround (orangepi based image) ..."
    ln -s /etc/"${DIST_NAME,,}"-release /etc/aaaa-release
fi
## END Step 2

## Step 3: Install system dependencies
apt-get update --allow-releaseinfo-change
# shellcheck disable=SC2086
check_install_pkgs ${RATOS_DEPS}
## END Step 3


# Install RatOS Configurator
sudo -u "${BASE_USER}" bash /home/"${BASE_USER}"/ratos-configurator/scripts/setup.sh

# Start the configurator so extensions can access the API
echo "Starting RatOS Configurator"
pushd "/home/${BASE_USER}/ratos-configurator"
sudo -u "${BASE_USER}" npm run start &
# Wait for configurator to start
# shellcheck disable=SC2016
timeout 300 bash -c 'while [[ "$(curl -s -o /dev/null -w ''%{http_code}'' localhost:3000)" != "404" ]]; do sleep 5; done' || false
popd

# Make RatOS configurator bash api helpers available to thirdparty modules
# shellcheck source=/dev/null
if [[ ! -f /home/"${BASE_USER}"/.bashrc ]]; then
    touch /home/"${BASE_USER}"/.profile
fi
printf "source %s \n" "$RATOS_EXTERNAL_HELPER" >> /home/"${BASE_USER}"/.profile
echo "WROTE TO .profile"
cat /home/"${BASE_USER}"/.profile

# Install RatOS Configuration
sudo -u "${BASE_USER}" /home/"${BASE_USER}"/printer_data/config/RatOS/scripts/ratos-install.sh
sudo update-rc.d ratos defaults

# Install RatOS Kinematics
sudo -u "${BASE_USER}" /home/"${BASE_USER}"/ratos-kinematics/ratos-setup.sh

# Create variant file
echo "${BASE_DISTRO}" > /etc/"${BASE_DISTRO}"-variant

# MOTD: RatOS logo
cat << EOF > /etc/motd
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⣀[0m[38;5;0m⡀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠘[0m[38;5;15m⣿[0m[38;5;145m⣷[0m[38;5;0m⣦[0m[38;5;0m⣄[0m[38;5;0m⣀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;102m⠹[0m[38;5;15m⣷[0m[38;5;0m⡀[0m[38;5;188m⢉[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;70m⣦[0m[38;5;0m⣄[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;188m⢹[0m[38;5;15m⣷[0m[38;5;145m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;70m⣇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;15m⢻[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⢠[0m[38;5;0m⡀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠈[0m[38;5;15m⢿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;70m⣦[0m[38;5;0m⡀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠘[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⠋[0m[38;5;15m⢿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;59m⠸[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;0m⡀[0m[38;5;0m⠈[0m[38;5;15m⢿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;76m⢹[0m[38;5;22m⣦[0m[38;5;0m⡀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;145m⠹[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣷[0m[38;5;0m⣄[0m[38;5;0m⢸[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;70m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;28m⣆[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;15m⢻[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;102m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;70m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;15m⢿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;70m⢸[0m[38;5;82m⣿[0m[38;5;82m⡿[0m[38;5;82m⠃[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠈[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;70m⠼[0m[38;5;82m⠋[0m[38;5;22m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠒[0m[38;5;0m⠒[0m[38;5;0m⠒[0m[38;5;0m⠚[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡇[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⢀[0m[38;5;0m⠤[0m[38;5;0m⠒[0m[38;5;59m⠊[0m[38;5;188m⢹[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⢸[0m[38;5;82m⣿[0m[38;5;82m⠟[0m[38;5;82m⠁[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⢀[0m[38;5;0m⠔[0m[38;5;188m⠁[0m[38;5;188m⠹[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;22m⠘[0m[38;5;82m⠁[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;145m⠁[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;145m⠙[0m[38;5;15m⢿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;15m⣿[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⣿[0m[38;5;82m⡿[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠲[0m[38;5;0m⣶[0m[38;5;0m⣶[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;82m⣿[0m[38;5;82m⠟[0m[38;5;76m⠁[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m
[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;102m⠙[0m[38;5;15m⠛[0m[38;5;59m⠀[0m[38;5;0m⠀[0m[38;5;76m⠁[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m[38;5;0m⠀[0m

EOF
